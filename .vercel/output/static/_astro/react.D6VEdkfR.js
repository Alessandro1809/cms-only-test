import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.DB02PGg6.js";import"./PostItem.CBIGWHob.js";import"./categoryLabels.CBjB4mnr.js";function j(){const[e,n]=l.useState({published:0,draft:0,totalViews:0}),[a,d]=l.useState(!0);return l.useEffect(()=>{const o="https://blog-api-rrttqa.fly.dev/api/v1";async function x(){try{const s=new AbortController,p=setTimeout(()=>s.abort(),5e3),r=await fetch(`${o}/posts?status=PUBLISHED`,{signal:s.signal}),f=r.ok?await r.json():{total:0},i=await fetch(`${o}/posts?status=DRAFT`,{signal:s.signal}),g=i.ok?await i.json():{total:0},c=await fetch(`${o}/posts/stats/views`,{signal:s.signal}),h=c.ok?await c.json():{totalViews:0};clearTimeout(p),n({published:f.total||0,draft:g.total||0,totalViews:h.totalViews||0})}catch(s){console.error("Error fetching stats:",s)}finally{d(!1)}}x()},[]),t.jsx("section",{className:"container mx-auto max-w-12xl mt-10",children:t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[t.jsxs("article",{className:"flex flex-col gap-2 rounded-lg glass p-4 border border-white/5",children:[t.jsx("h3",{className:"font-semibold text-gray-400",children:"Cantidad de vistas"}),t.jsx("p",{className:"text-3xl font-bold text-[var(--color-secondary)]",children:a?"...":e.totalViews.toLocaleString()})]}),t.jsxs("article",{className:"flex flex-col gap-2 rounded-lg glass p-4 border border-white/5",children:[t.jsx("h3",{className:"font-semibold text-gray-400",children:"Cantidad de suscriptores"}),t.jsx("p",{className:"text-3xl font-bold text-[var(--color-secondary)]",children:"32"})]}),t.jsxs("article",{className:"flex flex-col gap-2 rounded-lg glass p-4 border border-white/5",children:[t.jsx("h3",{className:"font-semibold text-gray-400",children:"Posts publicados"}),t.jsx("p",{className:"text-3xl font-bold text-[var(--color-secondary)]",children:a?"...":e.published})]}),t.jsxs("article",{className:"flex flex-col gap-2 rounded-lg glass p-4 border border-white/5",children:[t.jsx("h3",{className:"font-semibold text-gray-400",children:"Posts en borrador"}),t.jsx("p",{className:"text-3xl font-bold text-[var(--color-secondary)]",children:a?"...":e.draft})]})]})})}export{j as StatusCards};
